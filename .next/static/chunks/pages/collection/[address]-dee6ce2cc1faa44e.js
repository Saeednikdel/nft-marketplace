(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{83965:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(63366),a=t(87462),o=t(67294),c=t(86010),i=t(27192),s=t(27623),u=t(11496),l=t(28979);function d(e){return(0,l.Z)("MuiCardMedia",e)}(0,t(76087).Z)("MuiCardMedia",["root","media","img"]);var p=t(85893);const f=["children","className","component","image","src","style"],m=(0,u.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e,{isMediaComponent:r,isImageComponent:a}=t;return[n.root,r&&n.media,a&&n.img]}})((({ownerState:e})=>(0,a.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"}))),h=["video","audio","picture","iframe","img"],v=["picture","img"];var x=o.forwardRef((function(e,n){const t=(0,s.Z)({props:e,name:"MuiCardMedia"}),{children:o,className:u,component:l="div",image:x,src:g,style:w}=t,y=(0,r.Z)(t,f),b=-1!==h.indexOf(l),j=!b&&x?(0,a.Z)({backgroundImage:`url("${x}")`},w):w,k=(0,a.Z)({},t,{component:l,isMediaComponent:b,isImageComponent:-1!==v.indexOf(l)}),Z=(e=>{const{classes:n,isMediaComponent:t,isImageComponent:r}=e,a={root:["root",t&&"media",r&&"img"]};return(0,i.Z)(a,d,n)})(k);return(0,p.jsx)(m,(0,a.Z)({className:(0,c.Z)(Z.root,u),as:l,role:!b&&x?"img":void 0,ref:n,style:j,ownerState:k,src:b?x||g:void 0},y,{children:o}))}))},36366:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/collection/[address]",function(){return t(37592)}])},87260:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(85893),a=(t(67294),t(50657)),o=t(37645),c=t(15861),i=t(83321),s=t(6514),u=t(12806),l=(0,t(11467).Z)({dialogWrapper:{minWidth:300,position:"absolute"},dialogTitle:{paddingRight:"0px"}});function d(e){var n=e.title,t=e.children,d=e.openPopup,p=e.setOpenPopup,f=l();return(0,r.jsxs)(a.Z,{open:d,onClose:function(){p(!1)},className:f.dialogWrapper,children:[(0,r.jsx)(o.Z,{className:f.dialogTitle,children:(0,r.jsxs)("div",{style:{display:"flex"},children:[(0,r.jsx)(c.Z,{variant:"h6",component:"div",style:{flexGrow:1},children:n}),(0,r.jsx)(i.Z,{color:"secondary",onClick:function(){p(!1)},children:(0,r.jsx)(u.Z,{})})]})}),(0,r.jsx)(s.Z,{children:t})]})}},37592:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var r=t(34051),a=t.n(r),o=t(85893),c=t(11163),i=t(87357),s=t(83321),u=t(86886),l=t(66242),d=t(83965),p=t(44267),f=t(15861),m=t(62023),h=t(67294),v=t(48861),x=t(77294),g=t(42484),w=t.n(g),y=t(41664),b=t(36315),j=t(60715),k=t(85241),Z=t(11496),C=t(61094);function N(e,n,t,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void t(u)}i.done?n(s):Promise.resolve(s).then(r,a)}function P(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function c(e){N(o,r,a,c,i,"next",e)}function i(e){N(o,r,a,c,i,"throw",e)}c(void 0)}))}}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){O(e,n,t[n])}))}return e}var S=(0,k.create)("https://ipfs.infura.io:5001/api/v0"),T=(0,Z.ZP)("input")({display:"none"}),I=function(e){var n=e.address,t=e.setOpenPopup,r=(0,h.useState)(null),c=r[0],u=r[1],l=(0,h.useState)({name:"",description:""}),d=l[0],p=l[1];function f(){return(f=P(a().mark((function e(n){var t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.files[0],e.prev=1,e.next=4,S.add(t,{progress:function(e){return console.log("received: ".concat(e))}});case 4:r=e.sent,o="https://ipfs.infura.io/ipfs/".concat(r.path),u(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error uploading file: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function v(){return(v=P(a().mark((function e(){var n,t,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.name,t=d.description,console.log(n,t,c),n&&t&&c){e.next=4;break}return e.abrupt("return");case 4:return r=JSON.stringify({name:n,description:t,image:c}),e.prev=5,e.next=8,S.add(r);case 8:o=e.sent,g("https://ipfs.infura.io/ipfs/".concat(o.path)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log("Error uploading file: ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=P(a().mark((function e(r){var o,c,i,s,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new(w()),e.next=3,o.connect();case 3:return c=e.sent,i=new j.Q(c),s=i.getSigner(),u=new x.CH(n,C.Mt,s),e.next=9,u.createToken(r);case 9:return l=e.sent,e.next=12,l.wait();case 12:e.sent,t(!1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(i.Z,{style:{minWidth:400},children:[(0,o.jsx)("div",{children:(0,o.jsx)(b.Z,{name:"name",label:"name",placeholder:"name",style:{margin:20},onChange:function(e){return p(M({},d,{name:e.target.value}))}})}),(0,o.jsx)("div",{children:(0,o.jsx)(b.Z,{name:"desc",label:"desc",placeholder:"desc",style:{margin:20},multiline:!0,rows:4,onChange:function(e){return p(M({},d,{description:e.target.value}))}})}),(0,o.jsxs)("label",{style:{margin:20},htmlFor:"contained-button-file",children:[(0,o.jsx)(T,{accept:"image/*",id:"contained-button-file",type:"file",onChange:function(e){return f.apply(this,arguments)}}),(0,o.jsx)(s.Z,{variant:"contained",component:"span",children:"Upload"})]}),(0,o.jsx)("div",{children:c&&(0,o.jsx)("img",{className:"rounded mt-4",width:"350",src:c})}),(0,o.jsx)(m.Z,{children:(0,o.jsx)(s.Z,{variant:"contained",style:{margin:20},onClick:function(){return v.apply(this,arguments)},children:"mint nft"})})]})})},_=t(87260),A=t(31838),E=t(8693);function F(e,n,t,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void t(u)}i.done?n(s):Promise.resolve(s).then(r,a)}function z(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function c(e){F(o,r,a,c,i,"next",e)}function i(e){F(o,r,a,c,i,"throw",e)}c(void 0)}))}}var L=function(e){var n=e.signer,t=e.provider,r=(0,h.useState)(!1),g=r[0],w=r[1],b=(0,h.useState)(),j=b[0],k=b[1],Z=(0,h.useState)(!1),C=Z[0],N=Z[1],P=(0,c.useRouter)().query.address;function O(){return(O=z(a().mark((function e(){var r,o,c,i,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNetwork();case 2:return r=e.sent.chainId,e.next=5,n.getAddress();case 5:if(o=e.sent,!P){e.next=11;break}return e.next=9,(0,v.dL)(o,r,P);case 9:c=e.sent,k(c);case 11:return i=new x.CH(A.AX,E.Mt,n),e.prev=12,e.next=15,i.getCollectionListByUser();case 15:return s=e.sent,console.log("data",s),e.next=19,Promise.all(s.map(function(){var e=z(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:n.name,symbol:n.symbol,nftCollection:n.nftCollection},e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 19:u=e.sent,console.log("Collection",u),u.find((function(e){return e.nftCollection.toLowerCase()===P.toLowerCase()}))&&w(!0),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(12),console.log("error",e.t0);case 28:case"end":return e.stop()}}),e,null,[[12,25]])})))).apply(this,arguments)}return(0,h.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[C,P]),(0,o.jsxs)(i.Z,{sx:{width:"100%"},style:{marginTop:10,marginBottom:60},children:[g&&(0,o.jsx)(s.Z,{color:"secondary",variant:"contained",style:{marginTop:30},onClick:function(){return N(!0)},children:"new"}),(0,o.jsx)(u.ZP,{container:!0,style:{marginTop:30},rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:j?j.map((function(e,n){return(0,o.jsx)(u.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,o.jsxs)(l.Z,{sx:{maxWidth:345},children:[(0,o.jsx)(y.default,{href:"/item/".concat(e.value.contractAddress,"/").concat(Number(e.value.id)),children:(0,o.jsx)(d.Z,{component:"img",height:"300",image:e.value.image,alt:e.value.title})}),(0,o.jsxs)(p.Z,{children:[(0,o.jsx)(f.Z,{gutterBottom:!0,variant:"h5",component:"div",children:e.value.title}),(0,o.jsx)(f.Z,{variant:"body2",color:"text.secondary",children:e.value.description})]}),(0,o.jsxs)(m.Z,{children:[(0,o.jsx)(y.default,{href:"/collection/".concat(e.value.contractAddress),children:(0,o.jsx)(s.Z,{size:"small",children:"".concat(e.value.contractAddress.slice(0,4),"...").concat(e.value.contractAddress.slice(e.value.contractAddress.length-4))})}),(0,o.jsx)(s.Z,{size:"small",children:Number(e.value.id)}),(0,o.jsx)(y.default,{href:"/item/".concat(e.value.contractAddress,"/").concat(Number(e.value.id)),children:(0,o.jsx)(s.Z,{size:"small",children:"view"})})]})]})},n)})):(0,o.jsx)("h3",{children:"No NFT Item found"})}),(0,o.jsx)(_.Z,{title:"new item",openPopup:C,setOpenPopup:N,children:(0,o.jsx)(I,{setOpenPopup:N,address:P})})]})}},48861:function(e,n,t){"use strict";t.d(n,{dL:function(){return u},$L:function(){return d}});var r=t(34051),a=t.n(r);function o(e,n,t,r,a,o,c){try{var i=e[o](c),s=i.value}catch(u){return void t(u)}i.done?n(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var c=e.apply(n,t);function i(e){o(c,r,a,i,s,"next",e)}function s(e){o(c,r,a,i,s,"throw",e)}i(void 0)}))}}var i=function(){var e=c(a().mark((function e(n,t,r){var o,c,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(5!==(o=s.length>3&&void 0!==s[3]?s[3]:0)){e.next=3;break}return e.abrupt("return");case 3:if(!t){e.next=21;break}if(e.prev=5,!r){e.next=12;break}return e.next=9,fetch("".concat(n,"/getNFTs?owner=").concat(t,"&contractAddresses%5B%5D=").concat(r)).then((function(e){return e.json()}));case 9:c=e.sent,e.next=15;break;case 12:return e.next=14,fetch("".concat(n,"/getNFTs?owner=").concat(t)).then((function(e){return e.json()}));case 14:c=e.sent;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),i(n,t,r,o+1);case 20:return e.abrupt("return",c);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(n,t,r){return e.apply(this,arguments)}}(),s=function(e){switch(e){case 1:return"https://eth-mainnet.alchemyapi.io/v2/kxaJ8PFEDr1K4BTyF39QnLtSlxzMy2mW";case 137:return"https://polygon-mainnet.g.alchemy.com/v2/9E_Lj_2imo7pNzJNh1ROffy6uMl4NyNb";case 80001:return"https://polygon-mumbai.g.alchemy.com/v2/TqVpwwPDZwB36mDwIWcxByG6lz2DocI1";case 4:return"https://eth-rinkeby.alchemyapi.io/v2/PMsZU3kE2rYsahOVSpbQ9OQGsZXGfnzN"}},u=function(){var e=c(a().mark((function e(n,t,r){var o,c,u,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s(t),e.next=3,i(o,n,r);case 3:if(!(c=e.sent).ownedNfts.length){e.next=13;break}return e.next=7,l(c.ownedNfts,o);case 7:return u=e.sent,d=u.filter((function(e){return"fulfilled"==e.status})),console.log("NFTS",d),e.abrupt("return",d);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),l=function(){var e=c(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled(n.map(function(){var e=c(a().mark((function e(n){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/getNFTMetadata?contractAddress=").concat(n.contract.address,"&tokenId=").concat(n.id.tokenId)).then((function(e){return e.json()}));case 2:return r=e.sent,o=r.media[0].gateway.length?r.media[0].gateway:"https://via.placeholder.com/500",e.abrupt("return",{id:n.id.tokenId,contractAddress:n.contract.address,image:o,title:r.metadata.name,description:r.metadata.description,attributes:r.metadata.attributes});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),d=function(){var e=c(a().mark((function e(n,t,r){var o,c,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s(r),e.prev=2,e.next=5,fetch("".concat(o,"/getNFTMetadata?contractAddress=").concat(n,"&tokenId=").concat(t)).then((function(e){return e.json()}));case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("error",e.t0);case 11:return console.log("meta",c),i=c.media[0].gateway.length?c.media[0].gateway:"https://via.placeholder.com/500",e.abrupt("return",{contractAddress:n,tokenId:t,image:i,title:c.metadata.name,description:c.metadata.description,attributes:c.metadata.attributes});case 15:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(n,t,r){return e.apply(this,arguments)}}()},47005:function(){},26937:function(){},26784:function(){},88795:function(){}},function(e){e.O(0,[133,294,315,285,241,401,94,774,888,179],(function(){return n=36366,e(e.s=n);var n}));var n=e.O();_N_E=n}]);